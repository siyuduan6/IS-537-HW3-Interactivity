{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "data": {
    "url": "https://raw.githubusercontent.com/nytimes/covid-19-data/master/live/us-states.csv"
  },
  "hconcat": [
    {
      "mark": {"type": "bar"},
      "selection": {"Brush":{"type":"interval"}},
      "transform": [{"filter":{"selection":"Brush"}}],
      "encoding": {
        "x": {"field": "deaths", "type": "quantitative","bin":true},
        "y": {"aggregate":"count", "type": "quantitative"},
        "color":{"condition":{"selection":"Brush"},
        "value":"grey"
        }
      }
    },
    {
      "mark": {"type": "bar"},
      "transform": [{"filter":{"selection":"Brush"}}],
      "encoding": {
        "x": {"field": "cases", "type": "quantitative","bin":true},
        "y": {"aggregate":"count", "type": "quantitative"},
        "color":{"value":"purple"}
      }
    },
    {
      "mark": "point",
      "transform": [{"filter":{"selection":"Brush"}}],
      "encoding": {
        "x": {"field": "confirmed_cases", "type": "quantitative"},
        "y": {"field": "confirmed_deaths", "type": "quantitative"}
      }
    },
    {
      "mark":"line",
      "encoding": {
        "x":{"field":"cases", "type": "quantitative"},
        "y":{"field":"deaths", "type":"quantitative"}
      }
    }
  ]
}
